import{u as x,r as l,j as e,B as f,P as j,T as b,a as v,b as y}from"./index-7gVr3chR.js";import{C,T as o,L as I}from"./TextField-IbSHiyCi.js";import{G as u}from"./Grid-D8YQNhbO.js";const R="http://localhost:5000",E=()=>{const c=x(),[a,m]=l.useState({username:"",email:"",contactNumber:"",password:""}),i=["rone.jpg","rtwo.jpg","rthree.jpg","rfour.jpg","rfive.jpg"],[d,g]=l.useState(0);l.useEffect(()=>{const n=setInterval(()=>{g(t=>(t+1)%i.length)},3e3);return()=>clearInterval(n)},[i.length]);const s=n=>{const{name:t,value:r}=n.target;m(p=>({...p,[t]:r}))},h=async n=>{var t;n.preventDefault();try{const r=await y.post(`${R}/api/v1/auth/register`,a);console.log("Registration successful:",r.data),c("/dashboard"),alert("Registration successful")}catch(r){console.error("Error during registration:",((t=r.response)==null?void 0:t.data)||r.message),alert("Registration failed. Please try again.")}};return e.jsx(f,{sx:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:`url(${i[d]})`,backgroundSize:"cover",backgroundPosition:"center",transition:"background-image 1s ease-in-out"},children:e.jsx(C,{maxWidth:"xs",children:e.jsxs(j,{elevation:3,sx:{padding:"20px"},children:[e.jsx(b,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,children:"Register"}),e.jsxs("form",{onSubmit:h,children:[e.jsx(o,{label:"Username",name:"username",fullWidth:!0,value:a.username,onChange:s,required:!0,margin:"normal"}),e.jsx(o,{label:"Email",name:"email",type:"email",fullWidth:!0,value:a.email,onChange:s,required:!0,margin:"normal"}),e.jsx(o,{label:"Contact Number",name:"contactNumber",type:"tel",fullWidth:!0,value:a.contactNumber,onChange:s,required:!0,margin:"normal"}),e.jsx(o,{label:"Password",name:"password",type:"password",fullWidth:!0,value:a.password,onChange:s,required:!0,margin:"normal"}),e.jsx(v,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",sx:{mt:2,mb:2,backgroundColor:"#d32f2f"},children:"Register"})]}),e.jsx(u,{container:!0,justifyContent:"center",children:e.jsx(u,{item:!0,children:e.jsx(I,{href:"/login",variant:"body2",children:"Already have an account? Login"})})})]})})})};export{E as default};
