import{l as j,r as p,j as e,b as u}from"./index-7gVr3chR.js";import{E as N}from"./jspdf.es.min-CnADsjdl.js";const f="http://localhost:5000";function w(){var n,l,c,o,d;const{id:i}=j(),[a,x]=p.useState(null);p.useEffect(()=>{i&&(async()=>{try{const t=localStorage.getItem("token"),r=await u.get(`${f}/api/v1/cv/${i}`,{headers:{Authorization:`Bearer ${t}`}});x(r.data.data)}catch(t){console.error("Error fetching CV data:",t)}})()},[i]);const g=()=>{var m,h;const s=new N("p","mm","a4");s.setFontSize(22),s.text(`${(m=a==null?void 0:a.basicDetails)==null?void 0:m.name}`,105,20,null,null,"center");const t="/mnt/data/Modern Minimalist CV Resume (2).jpg",r="/pic2.jpg";try{s.addImage(t,"JPEG",10,30,40,40)}catch{console.error("Failed to load uploaded image, using fallback."),s.addImage(r,"JPEG",10,30,40,40)}s.setFontSize(12),s.text("About Me:",10,80),s.setFontSize(10),s.text(a.basicDetails.introductoryParagraph||"No introductory paragraph provided.",10,90,{maxWidth:190}),s.save(`${(h=a==null?void 0:a.basicDetails)==null?void 0:h.name}-CV.pdf`)},b=()=>{const s={key:"rzp_test_zHsqW4O66eZ8Lt",amount:500,currency:"INR",name:"Your Company Name",description:"CV Download Fee",handler:function(r){alert("Payment successful! Downloading CV..."),g()},prefill:{name:a.basicDetails.name,email:a.basicDetails.email,contact:a.basicDetails.phone},theme:{color:"#3399cc"}};new window.Razorpay(s).open()};return a?e.jsxs("div",{className:"flex p-5 bg-gray-100",id:"cv-section",children:[e.jsxs("div",{className:"w-1/3 p-5 bg-gray-800 text-white rounded-lg mr-5",children:[e.jsx("div",{className:"text-center mb-5",children:e.jsx("img",{src:"/mnt/data/Modern Minimalist CV Resume (2).jpg",alt:a.basicDetails.name,onError:s=>{s.target.onerror=null,s.target.src="/pic2.jpg"},className:"w-40 h-40 rounded-full mx-auto object-cover"})}),e.jsx("h2",{className:"text-center text-2xl font-bold",children:a.basicDetails.name}),e.jsx("p",{className:"text-center text-gray-400",children:"Product Designer"}),e.jsxs("div",{className:"mt-5",children:[e.jsx("h3",{className:"text-xl border-b border-gray-400 pb-2",children:"About Me"}),e.jsx("p",{children:a.basicDetails.introductoryParagraph||"No introductory paragraph provided."})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("h3",{className:"text-xl border-b border-gray-400 pb-2",children:"Contact"}),e.jsx("p",{children:`${a.basicDetails.phone} | ${a.basicDetails.email}`}),e.jsx("p",{children:`${a.basicDetails.address}, ${a.basicDetails.city}, ${a.basicDetails.state}`})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("h3",{className:"text-xl border-b border-gray-400 pb-2",children:"Languages"}),e.jsx("ul",{className:"list-none",children:((n=a.languages)==null?void 0:n.map((s,t)=>e.jsx("li",{children:s},t)))||"No languages specified."})]})]}),e.jsxs("div",{className:"w-2/3 p-5 bg-white rounded-lg",children:[e.jsxs("div",{className:"mt-5",children:[e.jsx("h3",{className:"text-xl border-b border-gray-400 pb-2",children:"Experience"}),((l=a.experience)==null?void 0:l.map((s,t)=>e.jsxs("div",{children:[e.jsx("h4",{children:s.organizationName}),e.jsxs("p",{children:[s.position," - ",s.technologies.join(", ")||"No technologies specified."]})]},t)))||"No experience specified."]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("h3",{className:"text-xl border-b border-gray-400 pb-2",children:"Education"}),((c=a.education)==null?void 0:c.map((s,t)=>e.jsxs("div",{children:[e.jsx("h4",{children:s.institution}),e.jsxs("p",{children:[s.degreeName," - ",s.percentage,"%"]})]},t)))||"No education specified."]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("h3",{className:"text-xl border-b border-gray-400 pb-2",children:"Skills"}),e.jsx("ul",{className:"list-none",children:((o=a.skills)==null?void 0:o.map((s,t)=>e.jsx("li",{children:s.skillName},t)))||"No skills specified."})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("h3",{className:"text-xl border-b border-gray-400 pb-2",children:"Projects"}),((d=a.projects)==null?void 0:d.length)>0?a.projects.map((s,t)=>e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-bold",children:s.projectTitle||"Ecommerce Platform Development "}),e.jsxs("p",{children:[e.jsx("strong",{children:"Team Size:"})," ",s.teamSize||"15"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Duration:"})," ",s.duration||"2.5 Year"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Technologies:"})," ",s.technologies.length>0?s.technologies.join(", "):"No technologies specified."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",s.description||"Developed a scalable ecommerce platform that handled over 50,000 daily users with features like multi-vendor support, real-time order tracking, payment gateway integration, and customer review management. The project also involved performance optimization using advanced caching techniques and microservices architecture."]}),"                            "]},t)):e.jsx("p",{children:"No projects specified."})]}),e.jsx("button",{className:"bg-blue-600 text-white py-2 px-4 rounded-lg mt-5",onClick:b,children:"Download CV (â‚¹5)"})]})]}):e.jsx("p",{children:"Loading..."})}export{w as default};
