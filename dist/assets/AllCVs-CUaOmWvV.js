import{g as E,c as I,C as $,G as j,u as z,r as i,j as e,T as n,a as p,b as x}from"./index-7gVr3chR.js";import{G as u}from"./Grid-D8YQNhbO.js";import{C as N,A as M,a as P}from"./CardContent-D5aO14dX.js";const V=E("MuiBox",["root"]),f=I({defaultClassName:V.root,generateClassName:$.generate});function S(o){return j({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(o)}function G(o){return j({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(o)}const m=["/rone.jpg","/rtwo.jpg","/rthree.jpg","rfour.jpg","rfive.jpg"],v="http://localhost:5000";function U(){const o=z(),[d,h]=i.useState([]),[y,C]=i.useState(0),g=()=>localStorage.getItem("token");i.useEffect(()=>{const t=setInterval(()=>{C(r=>(r+1)%m.length)},2e3);return()=>clearInterval(t)},[]),i.useEffect(()=>{(async()=>{try{const r=g(),a=await x.get(`${v}/api/v1/cv`,{headers:{Authorization:`Bearer ${r}`}});a.data.success?h(a.data.data):console.error("Failed to fetch profiles.")}catch(r){console.error("Error fetching profiles:",r)}})()},[]);const b=async t=>{try{const r=g();(await x.delete(`${v}/api/v1/cv/${t}`,{headers:{Authorization:`Bearer ${r}`}})).data.success?h(s=>s.filter(c=>c._id!==t)):console.error("Failed to delete profile.")}catch(r){console.error("Error deleting profile:",r)}},k=(t,r)=>{r%2===0?o(`/AllCVOne/${t}`):o(`/AllCVTwo/${t}`)},A=t=>{o(`/editor/${t}`)};return e.jsxs("div",{style:{backgroundImage:`url(${m[y]})`,backgroundSize:"cover",backgroundPosition:"center",transition:"background-image 1s ease-in-out",minHeight:"100vh",padding:"20px"},children:[e.jsx(n,{variant:"h4",component:"h1",gutterBottom:!0,style:{color:"white",textAlign:"center"},children:"All CVs"}),e.jsx(u,{container:!0,spacing:3,children:d.length>0?d.map((t,r)=>{const{basicDetails:a={}}=t,{name:s="Unknown Name",email:c="N/A",phone:w="N/A",imageUrl:B="/pic2.jpg"}=a;return e.jsx(u,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(N,{style:{cursor:"pointer",transition:"0.3s",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"15px",padding:"20px",backgroundColor:"#e0f7fa"},sx:{":hover":{boxShadow:6}},onClick:()=>k(t._id,r),children:[e.jsx(f,{display:"flex",justifyContent:"center",marginTop:2,children:e.jsx(M,{alt:s,src:B,sx:{width:140,height:140}})}),e.jsxs(P,{children:[e.jsx(n,{variant:"h6",component:"div",align:"center",gutterBottom:!0,children:s}),e.jsxs(n,{variant:"body2",color:"text.secondary",align:"center",children:[e.jsx(S,{})," ",c]}),e.jsxs(n,{variant:"body2",color:"text.secondary",align:"center",children:[e.jsx(G,{})," ",w]})]}),e.jsxs(f,{display:"flex",justifyContent:"center",mt:2,children:[e.jsx(p,{variant:"outlined",color:"error",onClick:l=>{l.stopPropagation(),b(t._id)},children:"Delete"}),e.jsx(p,{variant:"outlined",color:"primary",onClick:l=>{l.stopPropagation(),A(t._id)},style:{marginLeft:"10px"},children:"Edit"})]})]})},t._id)}):e.jsx(n,{variant:"body1",color:"text.secondary",style:{color:"white",textAlign:"center"},children:"No profiles found."})})]})}export{U as default};
