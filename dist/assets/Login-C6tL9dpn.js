import{u as x,r as s,j as e,B as f,P as j,T as v,a as b,b as y}from"./index-7gVr3chR.js";import{C as I,T as l,L as C}from"./TextField-IbSHiyCi.js";import{G as c}from"./Grid-D8YQNhbO.js";const L="http://localhost:5000",E=()=>{const u=x(),[n,d]=s.useState({email:"",password:""}),o=["one.jpg","two.jpg","three.jpg","four.jpg"],[g,m]=s.useState(0);s.useEffect(()=>{const r=setInterval(()=>{m(a=>(a+1)%o.length)},3e3);return()=>clearInterval(r)},[o.length]);const i=r=>{const{name:a,value:t}=r.target;d(p=>({...p,[a]:t}))},h=async r=>{var a;r.preventDefault();try{const t=await y.post(`${L}/api/v1/auth/login`,n);console.log("Login successful:",t.data),localStorage.setItem("token",t.data.token),localStorage.setItem("email",n.email),u("/dashboard"),alert("Login successful")}catch(t){console.error("Error during login:",((a=t.response)==null?void 0:a.data)||t.message),alert("Login failed. Please try again.")}};return e.jsx(f,{sx:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:`url(${o[g]})`,backgroundSize:"cover",backgroundPosition:"center",transition:"background-image 1s ease-in-out"},children:e.jsx(I,{maxWidth:"xs",children:e.jsxs(j,{elevation:3,sx:{padding:"20px"},children:[e.jsx(v,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,children:"Login"}),e.jsxs("form",{onSubmit:h,children:[e.jsx(l,{label:"Email",name:"email",type:"email",fullWidth:!0,value:n.email,onChange:i,required:!0,margin:"normal"}),e.jsx(l,{label:"Password",name:"password",type:"password",fullWidth:!0,value:n.password,onChange:i,required:!0,margin:"normal"}),e.jsx(b,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",sx:{mt:2,mb:2,backgroundColor:"#d32f2f"},children:"Login"})]}),e.jsx(c,{container:!0,justifyContent:"center",children:e.jsx(c,{item:!0,children:e.jsx(C,{href:"/register",variant:"body2",children:"Don't have an account? Sign up"})})})]})})})};export{E as default};
